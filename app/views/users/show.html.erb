<% provide(:title, @user.name) %>

<h1>
  <%= @user.name %>
  <br>
  <%= @user.email %>
</h1>

<div class="col-lg-12">
  <div class="page-header">
    <h1 id="tables">Course Watchlist</h1>

  </div>
</div>

<% if @courses.empty? %>
  <p>Looks like you haven't added any courses yet. Get started!</p>
<% else %>
  <table class="table table-striped table-hover ">
    <thead>
      <tr>
        <th>Course</th>
        <th>Availability</th>
        <th>Instructor</th>
        <th>Period</th>
        <th>Enrollment</th>
        <th>Status</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <% @courses.each do |course| %>
        <tr class="info">
          <td><%= course.subject %> <%= course.number %></td>
          <% if course.available? %>
            <td id="available">Available!</td>
          <% else %>
            <td id="not-available">Not available</td>
          <% end %>
          <td><%= course.instructor %></td>
          <td><%= course.period %></td>
          <td><%= course.enrollment %></td>
          <td>
            <% if course.status.nil? %>
              N/A
            <% else %>
              <%= course.status %>
            <% end %>  
          </td>
          <td><a href="<%= course_selection_path(course.id) %>">More info</a></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>

<%= link_to "Add a course!", new_course_selection_path, class: "btn btn-default" %>
